#
# VirtualHost template
# Note: to use the template, rename it to /etc/apache2/vhost.d/yourvhost.conf. 
# Files must have the .conf suffix to be loaded.
#
# See /usr/share/doc/packages/apache2/README.QUICKSTART for further hints 
# about virtual hosts.
#
# NameVirtualHost statements can be added to /etc/apache2/listen.conf.
#
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for requests without a known
# server name.
#
<VirtualHost *:80>
    ServerAdmin h.schneider@hs-mannheim.de
    ServerName aphrodite.informatik.hs-mannheim.de

    # DocumentRoot: The directory out of which you will serve your
    # documents. By default, all requests are taken from this directory, but
    # symbolic links and aliases may be used to point to other locations.
    #DocumentRoot /srv/www/htdocs/lernecken

    # if not specified, the global error log is used
    ErrorLog /var/log/apache2/thesispool-error_log
    CustomLog /var/log/apache2/thesispool-access_log combined

    # don't loose time with IP address lookups
    HostnameLookups Off

    # needed for named virtual hosts
    UseCanonicalName Off

    # configures the footer on server-generated documents
    ServerSignature Off

    Header set X-Content-Type-Options nosniff
    Header set X-XSS-Protection "1; mode=block"
    Header set Content-Security-Policy "upgrade-insecure-requests"
    Header set X-Content-Security-Policy "default-src 'self'"
    Header always append X-Frame-Options SAMEORIGIN

    #Redirect permanent / https://lernecken.hs-mannheim.de/


    Alias /static /var/www/thesispool/website/static
    <Directory /var/www/thesispool/website/static>
        Require all granted
    </Directory>

    <Directory /var/www/thesispool/thesispool>
        <Files wsgi.py>
            Require all granted
        </Files>
     </Directory>

     WSGIDaemonProcess thesispool python-path=/var/www/thesispool
     WSGIProcessGroup thesispool
     WSGIScriptAlias / /var/www/thesispool/thesispool/wsgi.py

</VirtualHost>